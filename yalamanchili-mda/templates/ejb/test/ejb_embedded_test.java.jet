<java:format>
package ${$packageName}.${lower-case($class/@name)};
import ${$groupID}.entity.${lower-case($package/@name)}.${$class/@name};
import ${$packageName}.${lower-case($class/@name)}.${$class/@name}ServiceLocal;
import javax.persistence.EntityManager;
import javax.persistence.EntityManagerFactory;

import org.jboss.seam.mock.SeamTest;
import org.testng.annotations.AfterClass;
import org.testng.annotations.AfterTest;
import org.testng.annotations.BeforeClass;
import org.testng.annotations.BeforeTest;
import org.testng.annotations.Test;
import info.yalamanchili.embeddedjboss.JBossUtil;


public class ${$class/@name}ServiceTest extends SeamTest{
	protected static ${$class/@name}ServiceLocal bean;
	protected static EntityManagerFactory emf;
	protected static EntityManager em;

	@BeforeClass
	public static void initClass() {
		JBossUtil.startDeployer();
		bean = JBossUtil.lookup(${$class/@name}ServiceLocal.class, "${lower-case($class/@name)}/local");
		emf = JBossUtil.lookup(EntityManagerFactory.class, "java:/${$projectName}");
		em = emf.createEntityManager();
	}

	@BeforeTest
	public void initTest() {
		initData();
	}

	public void initData() {

	}

	@Test
	public void simpleTest() {
		
	}
	
	@AfterTest
	public void destroyTest() {

	}
	
	@AfterClass
	public static void destroy() {
		em.close();
		emf.close();
		JBossUtil.shutdownDeployer();
	}
}
</java:format>